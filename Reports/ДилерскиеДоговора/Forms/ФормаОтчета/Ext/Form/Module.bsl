
&НаКлиенте
Процедура Сформировать(Команда)
	
	ТаблицаОтчета = СформироватьНаСервере();
	
КонецПроцедуры

&НаСервере
Функция СформироватьНаСервере()
	
	ТабДок = Отчеты.ДилерскиеДоговора.СформироватьОтчет(ПериодОтчета, Контрагент);	
	Возврат ТабДок;
	
КонецФункции

&НаКлиенте
Процедура ТаблицаОтчетаОбработкаРасшифровки(Элемент, Расшифровка, СтандартнаяОбработка)
	ОткрытьЗначение(Расшифровка);
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если ПользователиКлиентСервер.ЭтоСеансВнешнегоПользователя() Тогда
		Контрагент = ПараметрыСеанса.ТекущийВнешнийПользователь;
		Элементы.Контрагент.Доступность = Ложь;
	КонецЕсли;
	
	ПериодОтчета.ДатаНачала = НачалоГода(ТекущаяДата());
	ПериодОтчета.ДатаОкончания = ТекущаяДата();
	
КонецПроцедуры
