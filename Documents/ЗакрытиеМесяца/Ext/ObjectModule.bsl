
Процедура ОбработкаПроведения(Отказ, Режим)
	
	Движения.Управленческий.Записывать = Истина;
	
	Для Каждого ТекСтрокаСписок Из Список Цикл
		
		Если ЗначениеЗаполнено(ТекСтрокаСписок.Статья) Тогда
			
			Если ТекСтрокаСписок.Доход > 0 Тогда
				
				Движение = Движения.Управленческий.Добавить();
				Движение.Период = КонецМесяца(Период); // Дата
				Движение.Подразделение = Подразделение;
				
				Движение.СчетКт = ПланыСчетов.Управленческий.ФинансовыйРезультат;
				
				Движение.СчетДт = ПланыСчетов.Управленческий.Доходы;
				Движение.СубконтоДт[ПланыВидовХарактеристик.ВидыСубконто.СтатьиДР] = ТекСтрокаСписок.Статья;
				
				Движение.Сумма =  ТекСтрокаСписок.Доход;
				
			КонецЕсли;
			
			Если ТекСтрокаСписок.Расход > 0 Тогда
				
				Движение = Движения.Управленческий.Добавить();
				Движение.Период = КонецМесяца(Период); // Дата
				Движение.Подразделение = Подразделение;
				
				Движение.СчетКт = ПланыСчетов.Управленческий.Расходы;
				Движение.СубконтоКт[ПланыВидовХарактеристик.ВидыСубконто.СтатьиДР] = ТекСтрокаСписок.Статья;
				
				Движение.СчетДт = ПланыСчетов.Управленческий.ФинансовыйРезультат;
				
				Движение.Сумма = ТекСтрокаСписок.Расход;
				
			КонецЕсли;
			
		КонецЕсли;
		
	КонецЦикла;
	
КонецПроцедуры
